function animDelayValue(){var e=new Number(document.getElementById("animDelay").value/1e3);e.toFixed(2),document.getElementById("animDelayVal").innerHTML=e}animDelayValue(),this.animDelayValue=animDelayValue,this.gifalizer=function(){function e(){for(var e=document.getElementsByName("animScale"),a="4",n=0;n<e.length;n++)if(e[n].checked){a=e[n].value;break}return"1"==a?1:"2"==a?2:4}var a=document.getElementById("animDelay").value,n=e(),t=new Array(paintedCanvases.length),i=new Worker("animWorker.js");i.onmessage=function(e){var a=e.data.frame_index,n=e.data.frame_data;t[a]=n,console.log(a);for(var i=0;i<paintedCanvases.length;i++)if(null==t[i])return;console.log("append");var l=t.join(""),d="data:image/gif;base64,"+window.btoa(l),o=new Image;o.src=d;for(var r=document.getElementById("gifContainer");r.hasChildNodes();)r.removeChild(r.lastChild);document.getElementById("gifContainer").appendChild(o)};for(var l=new Array,d=0;d<paintedCanvases.length;d++)l[d]=new Image,l[d].src=paintedCanvases[d],l[d].isloaded=!1,l[d].index=d,l[d].onload=function(){var e=document.createElement("canvas");e.width=comicPane.width/n,e.height=comicPane.height/n;var t=e.getContext("2d");t.fillStyle="#FFFFFF",t.fillRect(0,0,e.width,e.height),t.drawImage(this,0,0,e.width,e.height);var l=t.getImageData(0,0,e.width,e.height).data;console.log(this.index),i.postMessage({frame_index:this.index,delay:a,frame_length:paintedCanvases.length-1,height:e.height,width:e.width,imageData:l})}};